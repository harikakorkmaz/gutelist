    <% if @user.errors.any? %>
      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li>error <%= message %></li>
        <% end %>
      </ul>
    <% end %>
<h1>User info</h1>
  <%= form_with model: @user do |f| %>
  	<div>
	    <%= f.label "ユーザー名" %><br>
	    <%= f.text_field :name %>
	  </div>
	  <div>
	    <%= f.label "プロフィール画像" %><br>
	    <img id="preview" width="200" height="200"><br>
	    <%= f.attachment_field :image %>
	  </div>
		<div>
			<%= f.label "プロフィール文" %><br>
			<%= f.text_area :introduction %>
		</div>
    <div>
    	<%= f.submit "保存" %>
    </div>
  <% end %>

<script>
  $('#user_image').on('change', function (e) {
    var reader = new FileReader();
    reader.onload = function (e) {
        $("#preview").attr('src', e.target.result);
    }
    reader.readAsDataURL(e.target.files[0]);
});
</script>